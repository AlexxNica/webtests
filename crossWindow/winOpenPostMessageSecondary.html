<html>
<head>
    <script type="text/javascript">
        function receiveMessage(event) {
            document.getElementById('foo').innerText = "SUCCESS";
        }

        window.addEventListener("message", receiveMessage);        

        function send() {
            window.opener.postMessage("back", "*");
        }

        function poponload() {            
            setTimeout(send, 5000);
        }
    </script>
</head>
<body>
    This is the popup page.
    <bold>
        <div onclick="javascript: poponload();">Click me to send SUCCESS back to other page. Change tabs and you should see it appear in 5 seconds!</div>
    </bold>
    <p id="foo"></p>
</body>
</html>