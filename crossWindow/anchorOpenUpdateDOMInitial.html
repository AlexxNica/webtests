<html>
<body>
    <script type="text/javascript">
        var testwindow;
        function receiveMessage(event) {
            document.getElementById('foo').innerText = "SUCCESS";
        }

        window.addEventListener("message", receiveMessage, false);

        function send() {
            testwindow.document.body.innerHTML = "SUCCESS";
        }

        function poponload() {
            testwindow = window.open("", "foo");

            setTimeout(send, 5000);
        }
    </script>
    
        This is the original window.

        The new window opened from the anchor originally has 'This is the popup page.' as its text. This window will change the text to Hey there. 
    The new window will attempt to alter this page's text to 'Hey there as well'.
        <a onclick="javascript: poponload();" href="failed.html" target="foo">Click me to open window and see SUCCESS on other page in 5 seconds!</a>
        <p id="foo"></p>
</body>
</html>
